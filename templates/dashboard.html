{% extends "base.html" %}

{% block title %}–ë–∞—Å“õ–∞—Ä—É –ø–∞–Ω–µ–ª—ñ{% endblock %}

{% block content %}
<div class="card">
    <h1 class="text-center">–ë–∞—Å“õ–∞—Ä—É –ø–∞–Ω–µ–ª—ñ</h1>

    <!-- Filters -->
    <form method="GET" action="{{ url_for('dashboard_bp.dashboard') }}" class="mb-4">
        <div class="row">
            <div class="col-md-4">
                <label for="type" class="form-label">–¢“Ø—Ä—ñ:</label>
                <select id="type" name="type" class="form-select">
                    <option value="">–ë–∞—Ä–ª—ã“ì—ã</option>
                    <option value="–ë“±—Ä“ì—ã–ª–∞—É –∂–∞–±–¥—ã“ì—ã">üèóÔ∏è –ë“±—Ä“ì—ã–ª–∞—É –∂–∞–±–¥—ã“ì—ã</option>
                    <option value="”®–Ω–¥—ñ—Ä—É –∂–∞–±–¥—ã“ì—ã">üíß ”®–Ω–¥—ñ—Ä—É –∂–∞–±–¥—ã“ì—ã</option>
                    <option value="“∞“£“ì—ã–º–∞ —Å–∞“ì–∞—Å—ã–Ω—ã“£ –∂–∞–±–¥—ã“ì—ã">üî© “∞“£“ì—ã–º–∞ —Å–∞“ì–∞—Å—ã–Ω—ã“£ –∂–∞–±–¥—ã“ì—ã</option>
                    <option value="–¶–∏—Ä–∫—É–ª—è—Ü–∏—è –∂”ô–Ω–µ –∞–π–¥–∞—É">üîÅ –¶–∏—Ä–∫—É–ª—è—Ü–∏—è –∂”ô–Ω–µ –∞–π–¥–∞—É</option>
                    <option value="–≠–ª–µ–∫—Ç—Ä –∂–∞–±–¥—ã“ì—ã">üîå –≠–ª–µ–∫—Ç—Ä –∂–∞–±–¥—ã“ì—ã</option>
                    <option value="–°—ã–π—ã–º–¥—ã–ª—ã“õ –∂–∞–±–¥—ã“ì—ã">üõ¢Ô∏è –°—ã–π—ã–º–¥—ã–ª—ã“õ –∂–∞–±–¥—ã“ì—ã</option>
                    <option value="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª—ã“õ –±–ª–æ–∫—Ç–∞—Ä">üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª—ã“õ –±–ª–æ–∫—Ç–∞—Ä</option>
                    <option value="–ö”©–º–µ–∫—à—ñ –∂–∞–±–¥—ã“õ">üöú –ö”©–º–µ–∫—à—ñ –∂–∞–±–¥—ã“õ</option>
                </select>
            </div>
            <div class="col-md-4">
                <label for="status" class="form-label">–ú”ô—Ä—Ç–µ–±–µ—Å—ñ:</label>
                <select id="status" name="status" class="form-select">
                    <option value="–ë–∞—Ä–ª—ã“ì—ã" {% if selected_status == '–ë–∞—Ä–ª—ã“ì—ã' or not selected_status %}selected{% endif %}>–ë–∞—Ä–ª—ã“ì—ã</option>
                    <option value="–ü–∞–π–¥–∞–ª–∞–Ω—É–¥–∞" {% if selected_status == '–ü–∞–π–¥–∞–ª–∞–Ω—É–¥–∞' %}selected{% endif %}>–ü–∞–π–¥–∞–ª–∞–Ω—É–¥–∞</option>
                    <option value="–ñ”©–Ω–¥–µ—É–¥–µ" {% if selected_status == '–ñ”©–Ω–¥–µ—É–¥–µ' %}selected{% endif %}>–ñ”©–Ω–¥–µ—É–¥–µ</option>
                    <option value="–¢—ñ–∑—ñ–º–Ω–µ–Ω —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω" {% if selected_status == '–¢—ñ–∑—ñ–º–Ω–µ–Ω —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω' %}selected{% endif %}>–¢—ñ–∑—ñ–º–Ω–µ–Ω —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω</option>
                </select>
            </div>
            <div class="col-md-4">
                <label for="location" class="form-label">–û—Ä–Ω–∞–ª–∞—Å—É—ã:</label>
                <select id="location" name="location" class="form-select">
                    <option value="–ë–∞—Ä–ª—ã“ì—ã" {% if selected_location == '–ë–∞—Ä–ª—ã“ì—ã' or not selected_location %}selected{% endif %}>–ë–∞—Ä–ª—ã“ì—ã</option>
                    {% for location in locations %}
                    <option value="{{ location }}" {% if selected_location == location %}selected{% endif %}>{{ location }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <button class="btn btn-primary w-100" type="submit">–°“Ø–∑–≥—ñ–Ω—ñ “õ–æ–ª–¥–∞–Ω—É</button>
    </form>

    <!-- Filtered Equipment List -->
    <h2>–ñ–∞–±–¥—ã“õ—Ç–∞—Ä —Ç—ñ–∑—ñ–º—ñ</h2>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>–ê—Ç–∞—É—ã</th>
                    <th>–¢“Ø—Ä—ñ</th>
                    <th>–ú”ô—Ä—Ç–µ–±–µ—Å—ñ</th>
                    <th>–û—Ä–Ω–∞–ª–∞—Å—É—ã</th>
                </tr>
            </thead>
            <tbody>
                {% for equipment in equipment_list %}
                <tr>
                    <td>{{ equipment.name }}</td>
                    <td>{{ equipment.type }}</td>
                    <td>
                        {% if equipment.status == '–ü–∞–π–¥–∞–ª–∞–Ω—É–¥–∞' %}
                        üü¢ –ü–∞–π–¥–∞–ª–∞–Ω—É–¥–∞
                        {% elif equipment.status == '–ñ”©–Ω–¥–µ—É–¥–µ' %}
                        üî¥ –ñ”©–Ω–¥–µ—É–¥–µ
                        {% elif equipment.status == '–¢—ñ–∑—ñ–º–Ω–µ–Ω —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω' %}
                        ‚ö™ –¢—ñ–∑—ñ–º–Ω–µ–Ω —à—ã“ì–∞—Ä—ã–ª“ì–∞–Ω
                        {% endif %}
                    </td>
                    <td>{{ equipment.location }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
